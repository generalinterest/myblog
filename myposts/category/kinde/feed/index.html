<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>kinde &#8211; generalinterest</title>
	<atom:link href="" rel="self" type="application/rss+xml" />
	<link>../../../../index.html</link>
	<description></description>
	<lastBuildDate>Wed, 24 Apr 2024 15:13:46 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.5.2</generator>
	<item>
		<title>KINDE OIDC</title>
		<link>../../../kinde-oidc/index.html</link>
					<comments>../../../kinde-oidc/index.html#respond</comments>
		
		<dc:creator><![CDATA[brian]]></dc:creator>
		<pubDate>Wed, 24 Apr 2024 15:13:46 +0000</pubDate>
				<category><![CDATA[Cloudflare Zero Trust]]></category>
		<category><![CDATA[idp]]></category>
		<category><![CDATA[kinde]]></category>
		<guid isPermaLink="false">../../../../index.html?p=17</guid>

					<description><![CDATA[OIDC Authentication and Authorisation for Cloudflare tunnel with “Kinde” Website: https://kinde.com/ Posted this on Kinde Discord feedback channel https://discord.com/channels/1070212618549219328/1162110647748808764/1225364680244199437 I wonder if you can add]]></description>
										<content:encoded><![CDATA[
<pre class="wp-block-preformatted">OIDC Authentication and Authorisation for Cloudflare tunnel with “Kinde”

Website: https://kinde.com/


Posted this on Kinde Discord feedback channel
https://discord.com/channels/1070212618549219328/1162110647748808764/1225364680244199437

I wonder if you can add a piece to the Cloudflare Zero Trust doc to advise that the Claims that Cloudflare can use can be taken from the ID Token doc…

 https://kinde.com/docs/authentication-and-access/cloudflare-zero-trust/

https://kinde.com/docs/build/about-id-tokens/

It seems to be a stumbling block trying to get Cloudflare Zero Trust OIDC working.

And Thank You for making the org_codes available, it’s just what I needed!




Create a Free Account.

login with Google

Create a Kinde Business “mybusiness”  this will be come the hostname of the FQDN for your OIDC endpoints and such.
So make sure it's a valid hostname syntax for a url.

mybusiness.kinde.com   (IDP)

https://kinde.com/docs/authentication-and-access/cloudflare-zero-trust/

Create the App in Kinde, it can be any app, you will not need to build it or deploy it any place.  It’s just a label for our purposes.

The apps Client ID and Secret you get from the app are what allows Cloudflare to connect to your OIDC endpoints.

I cannot find a way yet to get the Kinde Roles/Permissions working in Claims.   Cloudflare seems to only request OIDC without OAUTH2.  That means no Authorisation Token and hence no Roles/Permissions :( 

However, the ID Token does include the org_codes for the User and we can use this for simple authorisation.
I do not see any limit on the number of Organizations you can create in Kinde. 

TODO Also need to find a way to process the claim if a User has multiple org_codes. Cloudflare can test for a single value of a claim.  Not sure if it can parse the claim for a specific org_codes value.

The org_codes are not the Name of the Organization, but a code...

org_codes:
MyOrg is org_1234567890
Admin is org_0987654321


If I can find a way to get OAUTH2 to work then the Free Tier of Kinde allows you to configure Authentication with 2 Roles and up to 11 Permissions.   
There is no nesting of Roles or Permissions.

Research Sources
https://kinde.com/docs/build/about-id-tokens/
https://kinde.com/docs/authentication-and-access/cloudflare-zero-trust/
https://kinde.com/docs/build/token-customization/
https://updates.kinde.com/board/custom-claims/
https://developers.cloudflare.com/cloudflare-one/identity/idp-integration/generic-oidc/</pre>
]]></content:encoded>
					
					<wfw:commentRss>../../../kinde-oidc/feed/index.html</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
